<?xml version='1.0' encoding='UTF-8'?>
<!--Proposed Tool Section: [File Handling]-->
<tool id="macro-prepoc-rnmr1d" name="Preprocessing Macro for rNMR-1D" version="0.4">
  <description>Generic preprocessing RAW NMR data with macro-commands.</description>
  <command><![CDATA[
     echo "#%% " 
     Vendor=$vendor";"
     Type=$fid";"
     LB=$lb";"
     ZF=$zf";"
     PHC1=$phc1";"
     FP=$fp";"
     ZNEG=$zneg";"
     #if str( $ref ) == "TSP":
       TSP=TRUE";" 
     #else if str( $ref ) == "TMS":
       TMS=TRUE";"
     #else if str( $ref ) == "DSS":
       DSS=TRUE";"
     #end if
     > $macro_out;
  ]]>
  </command>
  <inputs>
    <param name="vendor" type="text" format="txt" optional="False" label="Choose the type of data, Vendor (e.gg bruker or varian) or nmrml" help="Type of data nmrML or Vendor." value="nmrml"/>
    <param name="fid" type="text" format="txt" optional="False" label="data type" help="data type for processing e.g. fid or 1r" value="fid"/>
    <param name="lb" type="float" format="float" optional="False" label="line broadening (default 0.3)" help="line broadening choose a value between 0.1 to 0.5" value="0.3"/>
    <param name="zf" type="integer" format="integer" optional="False" label="zero filling (default 4)" help="zero filling by doubling number of points" value="4"/>
    <param name="phc1" type="text" format="txt" optional="False" label="first order phase correction (default TRUE)" help="Phase correction" value="TRUE"/>
    <param name="fp" type="float" format="float" optional="False" label="zero order phase correction (default 0)" help="Phase correction, zero order"  value="0"/>
    <param name="zneg" type="text" format="txt" optional="False" label="zero neg, zeroing the negative values (default FALSE)" value="FALSE"/>
    <param name="ref" type="select" optional="False" label="Zero ppm calibrating compound in ppm compound, choose TSP, TMS, DSS, ... (default TRUE)" help="Choose a chemical shift reference type, e.g. TSP" value="TRUE">
      <option value="TSP" selected="True">TSP</option>
      <option value="TMS">TMS</option>
      <option value="DSS">DSS</option>
    </param>
  </inputs>
  <outputs>
    <data name="macro_out" type="data" format="txt" label="NMR data matrix" />
  </outputs>
 <help><![CDATA[
Rnmr1D allows users to run the macro-command sequence used within NMRProcFlow. This module will allow you to edit macro-command sequence.
]]></help>
</tool>