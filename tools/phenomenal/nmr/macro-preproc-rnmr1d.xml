<?xml version='1.0' encoding='UTF-8'?>
<!--Proposed Tool Section: [File Handling]-->
<tool id="macro-prepoc-rnmr1d" name="Preprocessing Macro for rNMR-1D" version="0.4">
  <description>Generic preprocessing RAW NMR data with macro-commands.</description>
  <command><![CDATA[
     echo "#%% " 
     Vendor=$vendor";"
     Type=$fid";"
     LB=$lb";"
     ZF=$zf";"
     PHC1=$phc1";"
     FP=$fp";"
     ZNEG=$zneg";"
     #if str( $ref ) == "TSP":
       TSP=TRUE";" 
     #else if str( $ref ) == "TMS":
       TMS=TRUE";"
     #else if str( $ref ) == "DSS":
       DSS=TRUE";"
     #end if
     > $macro_out;
  ]]>
  </command>
  <inputs>
    <param name="vendor" type="text" format="txt" optional="False" label="Choose the type of NMR data, Vendor (e.g. bruker or varian) or nmrml" help="NMR data Type; nmrML or Vendor." value="nmrml"/>
    <param name="fid" type="text" format="txt" optional="False" label="NMR data format" help="Data format for processing e.g. fid or 1r" value="fid"/>
    <param name="lb" type="float" format="float" optional="False" label="Line Broadening (default 0.3)" help="Line Broadening choose a value recommended between 0.1 to 0.5" value="0.3"/>
    <param name="zf" type="integer" format="integer" optional="False" label="Zero filling (default 4)" help="Zero filling by doubling number of points x2 or x4" value="4"/>
    <param name="phc1" type="text" format="txt" optional="False" label="First order phase correction (default TRUE)" help="Phase correction, TRUE for auto correction" value="TRUE"/>
    <param name="fp" type="float" format="float" optional="False" label="Zero order phase correction (default 0 for auto phase correction)" help="Phase correction, zero order, 0 auto phase correction or enter a value  between 0 and 1" value="0"/>
    <param name="zneg" type="text" format="txt" optional="False" label="Zeroing the negative values (default FALSE)" help="Zero the negative values, choose TRUE otherwise FALSE not to apply" value="FALSE"/>
    <param name="ref" type="select" optional="False" label="Zero ppm chemical calibration" help="Choose a compounds used for chemical shift reference calibration, e.g. TSP" value="TRUE">
      <option value="TSP" selected="True">TSP</option>
      <option value="TMS">TMS</option>
      <option value="DSS">DSS</option>
    </param>
  </inputs>
  <outputs>
    <data name="macro_out" type="data" format="txt" label="NMR data matrix" />
  </outputs>
 <help><![CDATA[
Rnmr1D allows users to run the macro-command sequence used within NMRProcFlow. This module will allow you to edit macro-command sequence.
]]></help>
</tool>